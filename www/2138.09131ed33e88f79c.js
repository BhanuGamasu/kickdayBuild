"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2138],{2138:(b,u,a)=>{a.r(u),a.d(u,{CustomerListingsPageModule:()=>D});var _=a(3609),d=a(209),m=a(5861),h=a(8650),e=a(6242),f=a(4414),c=a(9004),y=a(5565),g=a(6814),v=a(9172);const x=["swiper"];function T(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"ion-icon",24),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.openSearchModel())}),e.qZA()}}function w(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"ion-icon",25),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.openSearchModel())}),e.qZA()}}function Z(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"ion-icon",26),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.clearFilter())}),e.qZA()}}function C(r,o){if(1&r&&(e.TgZ(0,"swiper-slide"),e._UZ(1,"img",43),e.ALo(2,"async"),e.ALo(3,"getLogo"),e.qZA()),2&r){const n=o.$implicit;e.xp6(1),e.Q6J("src",e.lcZ(2,1,e.lcZ(3,3,n)),e.LSH)}}function P(r,o){if(1&r){const n=e.EpF();e.TgZ(0,"div",27)(1,"swiper-container",28,29),e.NdJ("afterinit",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.swiperReady())})("slidechange",function(t){e.CHM(n);const s=e.oxw();return e.KtG(s.swiperSlideChanged(t))})("click",function(){const s=e.CHM(n).$implicit,l=e.oxw();return e.KtG(l.goToListingOverview(s))}),e.YNc(3,C,4,5,"swiper-slide",30),e.TgZ(4,"swiper-slide")(5,"iframe",31),e.NdJ("press",function(t){e.CHM(n);const s=e.oxw();return e.KtG(s.handlePress(t))}),e.qZA()()(),e.TgZ(6,"ion-row",32)(7,"ion-col",33)(8,"div",34)(9,"ion-text",35),e._uU(10,"B"),e.qZA()(),e.TgZ(11,"ion-text",36)(12,"span",35),e._uU(13,"Maker"),e.qZA(),e._UZ(14,"br"),e.TgZ(15,"span"),e._uU(16),e.qZA(),e._UZ(17,"br"),e.TgZ(18,"span"),e._uU(19),e.qZA()()(),e.TgZ(20,"ion-col",37)(21,"div")(22,"div",33),e._UZ(23,"ion-icon",38),e.TgZ(24,"ion-text"),e._uU(25),e.TgZ(26,"span"),e._uU(27),e.qZA()()(),e.TgZ(28,"ion-text",39),e._uU(29,"Order will end on"),e.qZA(),e.TgZ(30,"div",40),e._UZ(31,"ion-icon",41),e.TgZ(32,"ion-text",42),e._uU(33),e.ALo(34,"date"),e.qZA()()()()()()}if(2&r){const n=o.$implicit;e.xp6(1),e.Q6J("loop",!0)("pagination",!0)("slidesPerView",1)("slidesPerGroup",1),e.xp6(2),e.Q6J("ngForOf",n.imageArray),e.xp6(13),e.Oqu(n.makerData.userName),e.xp6(3),e.Oqu(n.makerData.address),e.xp6(6),e.hij("",n.category," "),e.xp6(2),e.hij("+",null==n.listingOrders?null:n.listingOrders.length,""),e.xp6(6),e.Oqu(e.xi3(34,10,n.orderDeliveredOn,"d MMMM EEE h:mm a"))}}const L=[{path:"",component:(()=>{var r;class o{constructor(i,t,s,l){this.router=i,this.model=t,this.alert=s,this.adminService=l,this.selectedSegment="All",this.filteredItems=[],this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate=""}ngOnInit(){}ngAfterViewInit(){this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.adminService.getAllListingsForCustomer({}).subscribe(i=>{this.listings=i.data||[],this.filteredItems=this.listings},i=>{console.log(i)}),this.swiperReady()}handlePress(i){i.stopPropagation()}swiperSlideChanged(i){console.log("changed: ",i)}swiperReady(){var i;this.swiper=null===(i=this.swiperRef)||void 0===i?void 0:i.nativeElement.swiper}goNext(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slideNext()}goPrev(){(!this.swiper||this.swiper.destroyed)&&this.swiperReady(),this.swiper&&!this.swiper.destroyed&&this.swiper.slidePrev()}goToListingOverview(i){this.router.navigateByUrl("/customerListings/"+i._id)}goToOrders(){this.router.navigate(["/orders"])}goToProfile(){this.router.navigate(["/customerProfile"])}onSearch(i){const t=i.target.value.trim().toLowerCase();this.filteredItems=!t||t.length<1?[...this.listings]:this.listings.filter(s=>{const l=s&&s.category?s.category.toLowerCase():"";return console.log(l,"searchhhh"),l.includes(t)})}openSearchModel(){var i=this;return(0,m.Z)(function*(){let t={search:i.filterSearchTerm||"",selectedDeliveryType:i.filterDeliveryType||"",selectedOption:i.filterDeliveryDate||""};const s=yield i.model.create({component:h.Z,componentProps:t});s.present();const{data:l}=yield s.onWillDismiss();l&&(i.filterSearchTerm=l.searchTerm,i.filterDeliveryType=l.deliveryType,i.filterDeliveryDate=l.deliveryDate,i.adminService.getAllListingsForCustomer({search:i.filterSearchTerm||"",deliveryType:i.filterDeliveryType||"",deliveryDate:i.filterDeliveryDate||""}).subscribe(p=>{i.listings=p.data||[],i.filteredItems=i.listings},p=>{console.log(p)}))})()}clearFilter(){this.filterSearchTerm="",this.filterDeliveryType="",this.filterDeliveryDate="",this.adminService.getAllListingsForCustomer({}).subscribe(i=>{this.listings=i.data||[],this.filteredItems=this.listings},i=>{console.log(i)})}}return(r=o).\u0275fac=function(i){return new(i||r)(e.Y36(d.F0),e.Y36(f.IN),e.Y36(f.Br),e.Y36(y.l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-customer-listings"]],viewQuery:function(i,t){if(1&i&&e.Gf(x,5),2&i){let s;e.iGM(s=e.CRH())&&(t.swiperRef=s.first)}},decls:35,vars:6,consts:[[2,"box-shadow","none",3,"translucent"],[2,"margin","10px"],["size","3",2,"display","flex","justify-content","start","align-items","center"],["src","../../../assets/icons/Kickday-logo-removebg-preview.png","alt","",2,"height","40px","width","40px"],["size","5",1,"kd_flex","kd_flex_row_center"],["size","2",1,"kd_flex","kd_end_align"],["name","bag-handle-outline",1,"kd_svg_size"],[3,"fullscreen"],[2,"display","flex","align-items","center"],["placeholder","Search by Category",1,"searchbar-custom",2,"padding","20px",3,"keyup"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;",3,"click",4,"ngIf"],["name","filter-circle-outline","class","kd_svg_size","style","padding-right: 20px;color:blue",3,"click",4,"ngIf"],["name","rocket-outline","style","padding-right: 20px;color:blue;font-size: 30px;",3,"click",4,"ngIf"],["style","border: solid 1px lightgray; border-radius: 14px; margin: 20px",4,"ngFor","ngForOf"],[2,"height","100px"],[2,"bottom","0px","position","absolute"],[2,"margin","0px","border-radius","0px","padding","10px"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent",3,"click"],[1,"ripple_background"],["name","bag-handle-outline",1,"footer_icon_styles"],[1,"icon-text_styles"],[1,"kd_flex","kd_flex_col_center","ion-activatable","ripple-parent"],["name","list-circle-outline",1,"footer_icon_styles"],["name","person-circle-outline",1,"footer_icon_styles"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px",3,"click"],["name","filter-circle-outline",1,"kd_svg_size",2,"padding-right","20px","color","blue",3,"click"],["name","rocket-outline",2,"padding-right","20px","color","blue","font-size","30px",3,"click"],[2,"border","solid 1px lightgray","border-radius","14px","margin","20px"],[2,"height","240px",3,"loop","pagination","slidesPerView","slidesPerGroup","afterinit","slidechange","click"],["swiper",""],[4,"ngFor","ngForOf"],["width","100%","height","100%","src","https://www.youtube.com/embed/7Y5q41D8_hs","frameborder","0","allowfullscreen","",3,"press"],[2,"padding","10px"],[1,"kd_flex"],[1,"first_letter_styles"],[2,"font-weight","bold"],[2,"padding-left","20px","font-size","13px"],[1,"kd_flex","kd_end_align"],["name","bag-handle-outline",1,"icon_style",2,"padding-bottom","6px"],[2,"font-size","13px","font-weight","bold"],[1,"kd_flex",2,"padding-top","5px"],["name","calendar-outline",1,"icon_style",2,"height","20px","width","20px"],[2,"font-size","13px"],[3,"src"]],template:function(i,t){1&i&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row",1)(3,"ion-col",2),e._UZ(4,"img",3),e.qZA(),e._UZ(5,"ion-col",4)(6,"ion-col",5),e.TgZ(7,"ion-col",5),e._UZ(8,"ion-icon",6),e.qZA()()()(),e.TgZ(9,"ion-content",7)(10,"div",8)(11,"ion-searchbar",9),e.NdJ("keyup",function(l){return t.onSearch(l)}),e.qZA(),e.YNc(12,T,1,0,"ion-icon",10)(13,w,1,0,"ion-icon",11)(14,Z,1,0,"ion-icon",12),e.qZA(),e.YNc(15,P,35,13,"div",13),e._UZ(16,"div",14),e.qZA(),e.TgZ(17,"ion-footer",15)(18,"ion-card",16)(19,"ion-row")(20,"ion-col",17),e.NdJ("click",function(){return t.goToOrders()}),e._UZ(21,"ion-ripple-effect",18)(22,"ion-icon",19),e.TgZ(23,"ion-text",20),e._uU(24,"Orders"),e.qZA()(),e.TgZ(25,"ion-col",21),e._UZ(26,"ion-ripple-effect",18)(27,"ion-icon",22),e.TgZ(28,"ion-text",20),e._uU(29,"Listings"),e.qZA()(),e.TgZ(30,"ion-col",17),e.NdJ("click",function(){return t.goToProfile()}),e._UZ(31,"ion-ripple-effect",18)(32,"ion-icon",23),e.TgZ(33,"ion-text",20),e._uU(34,"Profile"),e.qZA()()()()()),2&i&&(e.Q6J("translucent",!0),e.xp6(9),e.Q6J("fullscreen",!0),e.xp6(3),e.Q6J("ngIf",!t.filterSearchTerm&&!t.filterDeliveryType&&!t.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",t.filterSearchTerm||t.filterDeliveryType||t.filterDeliveryDate),e.xp6(1),e.Q6J("ngIf",t.filterSearchTerm||t.filterDeliveryType||t.filterDeliveryDate),e.xp6(1),e.Q6J("ngForOf",t.filteredItems))},dependencies:[g.sg,g.O5,c.PM,c.wI,c.W2,c.fr,c.Gu,c.gu,c.H$,c.Nd,c.VI,c.yW,c.sr,c.j9,v.n,g.Ov,g.uU],styles:["ion-segment-button[_ngcontent-%COMP%]{--color-checked: #61399f;text-transform:none;font-size:12px;--padding-start: 0px;--padding-end: 0px;min-width:min-content}swiper-container[_ngcontent-%COMP%]{--swiper-pagination-bullet-inactive-color: var(--ion-color-step-500, white);--swiper-theme-color: #0aa26d}"]}),o})()}];let k=(()=>{var r;class o{}return(r=o).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[d.Bz.forChild(L),d.Bz]}),o})(),D=(()=>{var r;class o{}return(r=o).\u0275fac=function(i){return new(i||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[_.m,k]}),o})()}}]);